<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="SnakeGame.Views.HomePage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             BackgroundColor="#0B141A"
             NavigationPage.HasNavigationBar="False"
             Shell.NavBarIsVisible="False"
             Title="Snake Game">

    <ContentPage.Resources>
        <ResourceDictionary>
            <!-- WhatsApp Dark Theme Colors -->
            <Color x:Key="Primary">#00A884</Color>
            <Color x:Key="Background">#0B141A</Color>
            <Color x:Key="Surface">#1F2C34</Color>
            <Color x:Key="Divider">#2A3942</Color>
            <Color x:Key="TextPrimary">#E9EDEF</Color>
            <Color x:Key="TextSecondary">#8696A0</Color>
            <Color x:Key="TextTertiary">#667781</Color>
            <Color x:Key="IconCircle">#233138</Color>
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="{OnIdiom Desktop='400', Default='*'}" />
            <ColumnDefinition Width="{OnIdiom Desktop='*', Default='0'}" />
        </Grid.ColumnDefinitions>

        <!-- LEFT SIDE / MOBILE VIEW -->
        <Grid Grid.Column="0" BackgroundColor="{StaticResource Background}">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- Header -->
            <Grid Grid.Row="0"
                  BackgroundColor="{StaticResource Surface}"
                  Padding="16,12,16,16">
                <Label Text="Snake Game"
                       FontSize="20"
                       FontAttributes="Bold"
                       TextColor="{StaticResource TextPrimary}"
                       VerticalOptions="Center" />
            </Grid>

            <!-- Menu List -->
            <CollectionView Grid.Row="1"
                            x:Name="MenuCollection"
                            BackgroundColor="{StaticResource Background}"
                            SelectionMode="Single"
                            SelectionChanged="OnMenuSelected">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid BackgroundColor="{StaticResource Background}">
                            <Grid Padding="16,12"
                                  ColumnDefinitions="Auto,*,Auto"
                                  ColumnSpacing="12">

                                <!-- Avatar Circle -->
                                <Border Grid.Column="0"
                                        BackgroundColor="{StaticResource IconCircle}"
                                        WidthRequest="56"
                                        HeightRequest="56"
                                        VerticalOptions="Center"
                                        StrokeThickness="0">
                                    <Border.StrokeShape>
                                        <Ellipse />
                                    </Border.StrokeShape>
                                    <Label Text="{Binding IconGlyph}"
                                           FontFamily="MaterialIcons"
                                           FontSize="28"
                                           TextColor="{StaticResource Primary}"
                                           HorizontalOptions="Center"
                                           VerticalOptions="Center" />
                                </Border>

                                <!-- Text Content -->
                                <Grid Grid.Column="1"
                                      RowDefinitions="Auto,Auto"
                                      RowSpacing="2"
                                      VerticalOptions="Center">
                                    <Label Grid.Row="0"
                                           Text="{Binding Title}"
                                           FontSize="16"
                                           TextColor="{StaticResource TextPrimary}"
                                           LineBreakMode="TailTruncation" />

                                    <Label Grid.Row="1"
                                           Text="{Binding Description}"
                                           FontSize="14"
                                           TextColor="{StaticResource TextSecondary}"
                                           LineBreakMode="TailTruncation" />
                                </Grid>

                                <!-- Right Side -->
                                <Label Grid.Column="2"
                                       Text="{Binding CurrentValue}"
                                       FontSize="13"
                                       TextColor="{StaticResource TextTertiary}"
                                       VerticalOptions="Center" />
                            </Grid>

                            <!-- Divider -->
                            <BoxView HeightRequest="1"
                                     Color="{StaticResource Divider}"
                                     VerticalOptions="End"
                                     Margin="84,0,0,0" />
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <!-- Footer -->
            <Grid Grid.Row="2"
                  BackgroundColor="{StaticResource Surface}"
                  Padding="16,12">
                <Label x:Name="SettingsFooter"
                       Text="Level: Easy | Mode: Classic | Walls: On"
                       FontSize="12"
                       TextColor="{StaticResource TextSecondary}"
                       HorizontalOptions="Center"
                       VerticalOptions="Center" />
            </Grid>
        </Grid>

        <!-- RIGHT SIDE - Desktop Only -->
        <Grid Grid.Column="1"
              BackgroundColor="{StaticResource Background}"
              IsVisible="{OnIdiom Desktop=True, Default=False}">
            <VerticalStackLayout HorizontalOptions="Center"
                                 VerticalOptions="Center"
                                 Spacing="16">
                <Border BackgroundColor="{StaticResource IconCircle}"
                        WidthRequest="80"
                        HeightRequest="80"
                        StrokeThickness="0"
                        HorizontalOptions="Center">
                    <Border.StrokeShape>
                        <Ellipse />
                    </Border.StrokeShape>
                    <Label Text="&#xe30f;"
                           FontFamily="MaterialIcons"
                           FontSize="48"
                           TextColor="{StaticResource Primary}"
                           HorizontalOptions="Center"
                           VerticalOptions="Center" />
                </Border>

                <Label Text="Snake Game Settings"
                       FontSize="20"
                       TextColor="{StaticResource TextPrimary}"
                       HorizontalOptions="Center" />

                <Label Text="Select an option from the menu"
                       FontSize="14"
                       TextColor="{StaticResource TextSecondary}"
                       HorizontalOptions="Center" />

                <Label x:Name="SelectedMenuLabel"
                       FontSize="14"
                       TextColor="{StaticResource Primary}"
                       HorizontalOptions="Center"
                       IsVisible="False"
                       Margin="0,8,0,0" />
            </VerticalStackLayout>
        </Grid>
    </Grid>

</ContentPage>
