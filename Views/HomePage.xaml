<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="SnakeGame.Views.HomePage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             BackgroundColor="#0F172A"
             Title="Snake Game">

    <ContentPage.Resources>
        <ResourceDictionary>
            <Color x:Key="Primary">#10B981</Color>
            <Color x:Key="Surface">#1E293B</Color>
            <Color x:Key="SurfaceVariant">#334155</Color>
            <Color x:Key="OnSurface">#F1F5F9</Color>
            <Color x:Key="OnSurfaceVariant">#94A3B8</Color>
            <Color x:Key="Outline">#475569</Color>
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="{OnIdiom Desktop='380', Default='*'}" />
            <ColumnDefinition Width="{OnIdiom Desktop='*', Default='0'}" />
        </Grid.ColumnDefinitions>

        <!-- LEFT SIDE / MOBILE VIEW -->
        <Grid Grid.Column="0" BackgroundColor="{StaticResource Surface}">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0"
                    BackgroundColor="{StaticResource Primary}"
                    Padding="20,16"
                    StrokeThickness="0">
                <Grid ColumnDefinitions="Auto,*" ColumnSpacing="12">
                    <Image Grid.Column="0"
                           WidthRequest="32"
                           HeightRequest="32"
                           VerticalOptions="Center">
                        <Image.Source>
                            <FontImageSource FontFamily="MaterialRegular"
                                           Glyph="&#xe30e;"
                                           Color="White"
                                           Size="32" />
                        </Image.Source>
                    </Image>
                    <Label Grid.Column="1"
                           Text="SNAKE GAME"
                           FontSize="24"
                           FontAttributes="Bold"
                           TextColor="White"
                           VerticalOptions="Center" />
                </Grid>
            </Border>

            <!-- Menu Items -->
            <CollectionView Grid.Row="1"
                            x:Name="MenuCollection"
                            SelectionMode="Single"
                            SelectionChanged="OnMenuSelected">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Border BackgroundColor="Transparent"
                                Padding="0"
                                StrokeThickness="0">
                            <Grid Padding="16,12"
                                  ColumnDefinitions="Auto,*,Auto"
                                  ColumnSpacing="16"
                                  RowDefinitions="Auto,Auto"
                                  RowSpacing="4">

                                <Border Grid.Column="0"
                                        Grid.RowSpan="2"
                                        BackgroundColor="{StaticResource SurfaceVariant}"
                                        WidthRequest="48"
                                        HeightRequest="48"
                                        StrokeThickness="0">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="12" />
                                    </Border.StrokeShape>
                                    <Image HorizontalOptions="Center"
                                           VerticalOptions="Center">
                                        <Image.Source>
                                            <FontImageSource FontFamily="MaterialRegular"
                                                           Glyph="{Binding IconGlyph}"
                                                           Color="{StaticResource Primary}"
                                                           Size="24" />
                                        </Image.Source>
                                    </Image>
                                </Border>

                                <Label Grid.Column="1"
                                       Grid.Row="0"
                                       Text="{Binding Title}"
                                       FontSize="16"
                                       FontAttributes="Bold"
                                       TextColor="{StaticResource OnSurface}" />

                                <Label Grid.Column="1"
                                       Grid.Row="1"
                                       Text="{Binding Description}"
                                       FontSize="13"
                                       TextColor="{StaticResource OnSurfaceVariant}" />

                                <Label Grid.Column="2"
                                       Grid.RowSpan="2"
                                       Text="{Binding CurrentValue}"
                                       FontSize="12"
                                       FontAttributes="Bold"
                                       TextColor="{StaticResource Primary}"
                                       VerticalOptions="Center" />

                                <BoxView Grid.Column="1"
                                         Grid.ColumnSpan="2"
                                         Grid.Row="1"
                                         HeightRequest="1"
                                         Color="{StaticResource Outline}"
                                         VerticalOptions="End"
                                         Margin="0,8,0,0" />
                            </Grid>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <!-- Footer -->
            <Border Grid.Row="2"
                    BackgroundColor="{StaticResource SurfaceVariant}"
                    Padding="16,12"
                    StrokeThickness="0">
                <Label x:Name="SettingsFooter"
                       Text="Level: Easy | Mode: Classic | Walls: On"
                       FontSize="12"
                       TextColor="{StaticResource OnSurfaceVariant}"
                       HorizontalOptions="Center" />
            </Border>
        </Grid>

        <!-- RIGHT SIDE - Desktop Only -->
        <Grid Grid.Column="1"
              BackgroundColor="#0F172A"
              IsVisible="{OnIdiom Desktop=True, Default=False}">
            <VerticalStackLayout HorizontalOptions="Center"
                                 VerticalOptions="Center"
                                 Spacing="16">
                <Image WidthRequest="64" HeightRequest="64">
                    <Image.Source>
                        <FontImageSource FontFamily="MaterialRegular"
                                       Glyph="&#xe913;"
                                       Color="#94A3B8"
                                       Size="64" />
                    </Image.Source>
                </Image>
                <Label Text="Select a menu to configure"
                       FontSize="18"
                       TextColor="#94A3B8"
                       HorizontalOptions="Center" />
                <Label x:Name="SelectedMenuLabel"
                       FontSize="14"
                       TextColor="#F1F5F9"
                       HorizontalOptions="Center"
                       IsVisible="False" />
            </VerticalStackLayout>
        </Grid>
    </Grid>

</ContentPage>
